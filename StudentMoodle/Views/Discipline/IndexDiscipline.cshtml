@using StudentMoodle.Models
@model (List<LabWork>, UserView, Discipline, List<Test>)

@{
    var model1 = Model.Item1;
    var model2 = Model.Item2;
    var model3 = Model.Item3;
    var model4 = Model.Item4;
}


<div class="text-center">
    <h1 class="display-4">
        <h3>Дисциплина @model3.Title</h3>
    </h1>

        @if (model2.RoleId == 2)
        {
            <p>
                <input type="button" value="Подключить группу"
                             onclick="location.href='@Url.Action("ConGroupIndex", "Discipline", new {id = model3.Id})'" />
                <input type="button" value="Отключить группу"
                             onclick="location.href='@Url.Action("DisconGroupIndex", "Discipline", new {id = model3.Id})'" />
                <input type="button" value="Результаты студентов"
                             onclick="location.href='@Url.Action("ResultOfDicsipline", "Discipline", new {dkey = model3.Id})'" />
            </p>
        }
        <p>
            <input type="button" value="Список дисциплин"
                 onclick="location.href='@Url.Action("Index", "Discipline")'" />
        </p>
        <br />
        <div>
        <h4>
            Лабы
            @if (model2.RoleId == 2)
            {
                <input style="font-size: 18px; font-weight: normal;" type="button" value="Создать лр"
                   onclick="location.href='@Url.Action("CreateLabWork", "Discipline", new {dkey = model3.Id})'" />
            }
        </h4>
        <br />
        <table class="table">
            
            <tbody>
            @foreach (var item in model1)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                        @if (model2.RoleId != 1) {
                            <input type="button" value="Редактировать"
                                onclick="location.href='@Url.Action($"LabWorkEdit", "Discipline", new {id = item.Id})'" />
                        }
                            <input type="button" value="Подробнее"
                                onclick="location.href='@Url.Action($"LabWorkDetails", "Discipline", item)'" />
                        @if (model2.RoleId != 1) {
                            <input type="button" value="Удалить"
                                onclick="location.href='@Url.Action($"LabWorkDelete", "Discipline", new {id = item.Id})'" />
                        }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <br />
        </div>

        <div>
        <h4>
            Тесты
            @if (model2.RoleId == 2)
            {
                <input style="font-size: 18px; font-weight: normal;" type="button" value="Создать тест"
                   onclick="location.href='@Url.Action("CreateTest", "Discipline", new {dkey = model3.Id})'" />
            }
        </h4>
        <br />
        <table class="table">
            <tbody>
            @foreach (var item in model4)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                        @if (model2.RoleId != 1) {
                            <input type="button" value="Редактировать"
                                onclick="location.href='@Url.Action($"TestEdit", "Discipline", new {id = item.Id})'" />
                        }
                        <input type="button" value="Подробнее"
                                onclick="location.href='@Url.Action($"TestDetails", "Discipline", item)'" />
                        @if (model2.RoleId != 1) {
                            <input type="button" value="Удалить"
                                onclick="location.href='@Url.Action($"TestDelete", "Discipline", new {id = item.Id})'" />
                        }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        </div>
</div>